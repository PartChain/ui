<!--
  ~ Copyright 2021 The PartChain Authors. All Rights Reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<ng-container *ngIf="this.transactions.length > 0; else empty">
  <div class="events-item" *ngFor="let item of this.transactions">
    <section class="events-status">
      <svg height="13" width="13">
        <circle
          cx="4.5"
          cy="4.5"
          r="4.5"
          [ngClass]="{
            'ok-item': item.propertyOldValue === 'OK',
            'nok-item': item.propertyOldValue === 'NOK',
            'flag-item': item.propertyOldValue === 'FLAG'
          }"
        />
      </svg>
      <p>
        <strong>{{ item.propertyOldValue }}</strong>
      </p>
      <svg-icon key="arrow-right-line" class="text-dark update-icon pl-1 pr-2"></svg-icon>
      <svg height="13" width="13">
        <circle
          cx="4.5"
          cy="4.5"
          r="4.5"
          [ngClass]="{
            'ok-item': item.propertyNewValue === 'OK',
            'nok-item': item.propertyNewValue === 'NOK',
            'flag-item': item.propertyNewValue === 'FLAG'
          }"
        />
      </svg>
      <p>
        <strong>{{ item.propertyNewValue }}</strong>
      </p>
    </section>
    <section class="events-committed-items">
      <p class="sub-headline text-center w-full">
        {{ this.messageToDisplay(item.totalOfTransactions) }}
      </p>
    </section>
    <section class="events-date">
      <p class="sub-headline text-center text-tundoraShadeNobel w-full">
        {{ item.timestampCreated | date: 'dd-MM-yyyy HH:mm' }}
      </p>
    </section>
  </div>
</ng-container>
<ng-template #empty>
  <section class="events-empty-state">
    <svg-icon key="information-line" size="xs" class="text-primary"></svg-icon>
    <p class="regular-text mx-2">Your transaction cart is empty.</p>
  </section>
</ng-template>
